<!doctype html><html lang=zh-ch><head><title>iOS知识点杂记 // AirChen Blog</title><link rel="shortcut icon" href=pikachu.ico><meta charset=utf-8><meta name=generator content="Hugo 0.95.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="AirChen"><meta name=description content><link rel=stylesheet href=https://blog.airchen-space.top/css/main.min.4a7ec8660f9a44b08c4da97c5f2e31b1192df1d4d0322e65c0dbbc6ecb1b863f.css><meta name=twitter:card content="summary"><meta name=twitter:title content="iOS知识点杂记"><meta name=twitter:description content="有很长一段时间没有更新自己的blog了，期间有春节假期、春节假期之前的忙、春节假期之后的懒，不得不承认自己是个不折不扣的懒癌晚期患者😂。其实年后，在工作上的任务也有所调整的，之前有很长一段时间是做iOS SDK的封装，及底层移植层的开发，年后不久组老大启动了我们团队自己的APP开发计划（我们团队是负责GIS地图引擎开发团队）。我也着手开始开发APP，期间组内招了一个iOS小伙伴，这个APP的iOS端也就由我们两人负责开发。
在开发过程中，我也在不断的梳理自己在iOS开发方面的技术点，并打算定期更新自己的博客，与读者一起分享在这APP开发过程中的一些坑。
List UILabel的自动换行： _addressLabel.numberOfLines = 0; _addressLabel.lineBreakMode = NSLineBreakByWordWrapping; 计算字符串高度:
UILabel 方法 - (CGSize)systemLayoutSizeFittingSize:(CGSize)targetSize; UIView 方法 - (CGSize)sizeThatFits:(CGSize)size; NSString 方法 - (CGRect)boundingRectWithSize:(CGSize)size options:(NSStringDrawingOptions)options attributes:(NSDictionary<NSString *,id> *)attributes context:(NSStringDrawingContext *)context; UITableView顶格，去掉最上面一行的间隔 self.tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, CGFLOAT_MIN)]; XCode9 使用rename的时候，出现 &lsquo;rename failed&rsquo; 情况时 1.关闭XCode
2.进入文件夹 ~/Library/Developer/Xcode/DerivedData/，删除文件夹下的所有文件
3.启动XCode
或者可以直接用终端输入：
rm -rf ~/Library/Developer/Xcode/DerivedData/* XCode重启即可
UICollectionView数据不够时，不能竖向滑动 UICollectionView 的属性bounces 默认的水平方向的滑动设置，其实还有alwaysBounceVertical 和alwaysBounceHorizontal属性，alwaysBounceHorizontal 和bounces 的效果一致，如果是竖向可以使用alwaysBounceVertical属性
UICollectionView在一个frame 动画之后，调用setContentOffset 没有作用，不能改变里面内容的位置，这个时候，应该把setContentOffset 方法也放入一个动画中去调用。
NSTimer的循环圈 调用NSTimer 的scheduledTimerWithTimeInterval: target: selector: userInfo: repeats: 来初始化一个NSTimer对象时，有可能会产生循环引用。可以使用scheduledTimerWithTimeInterval:repeats:block: 方法。"><meta property="og:title" content="iOS知识点杂记"><meta property="og:description" content="有很长一段时间没有更新自己的blog了，期间有春节假期、春节假期之前的忙、春节假期之后的懒，不得不承认自己是个不折不扣的懒癌晚期患者😂。其实年后，在工作上的任务也有所调整的，之前有很长一段时间是做iOS SDK的封装，及底层移植层的开发，年后不久组老大启动了我们团队自己的APP开发计划（我们团队是负责GIS地图引擎开发团队）。我也着手开始开发APP，期间组内招了一个iOS小伙伴，这个APP的iOS端也就由我们两人负责开发。
在开发过程中，我也在不断的梳理自己在iOS开发方面的技术点，并打算定期更新自己的博客，与读者一起分享在这APP开发过程中的一些坑。
List UILabel的自动换行： _addressLabel.numberOfLines = 0; _addressLabel.lineBreakMode = NSLineBreakByWordWrapping; 计算字符串高度:
UILabel 方法 - (CGSize)systemLayoutSizeFittingSize:(CGSize)targetSize; UIView 方法 - (CGSize)sizeThatFits:(CGSize)size; NSString 方法 - (CGRect)boundingRectWithSize:(CGSize)size options:(NSStringDrawingOptions)options attributes:(NSDictionary<NSString *,id> *)attributes context:(NSStringDrawingContext *)context; UITableView顶格，去掉最上面一行的间隔 self.tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, CGFLOAT_MIN)]; XCode9 使用rename的时候，出现 &lsquo;rename failed&rsquo; 情况时 1.关闭XCode
2.进入文件夹 ~/Library/Developer/Xcode/DerivedData/，删除文件夹下的所有文件
3.启动XCode
或者可以直接用终端输入：
rm -rf ~/Library/Developer/Xcode/DerivedData/* XCode重启即可
UICollectionView数据不够时，不能竖向滑动 UICollectionView 的属性bounces 默认的水平方向的滑动设置，其实还有alwaysBounceVertical 和alwaysBounceHorizontal属性，alwaysBounceHorizontal 和bounces 的效果一致，如果是竖向可以使用alwaysBounceVertical属性
UICollectionView在一个frame 动画之后，调用setContentOffset 没有作用，不能改变里面内容的位置，这个时候，应该把setContentOffset 方法也放入一个动画中去调用。
NSTimer的循环圈 调用NSTimer 的scheduledTimerWithTimeInterval: target: selector: userInfo: repeats: 来初始化一个NSTimer对象时，有可能会产生循环引用。可以使用scheduledTimerWithTimeInterval:repeats:block: 方法。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.airchen-space.top/posts/tips1/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-04-15T17:19:51+08:00"><meta property="article:modified_time" content="2018-04-15T17:19:51+08:00"></head><body><header class=app-header><a href=https://blog.airchen-space.top/><img class=app-header-avatar src=/log.jpeg alt=AirChen></a><h1>AirChen Blog</h1><nav class=app-header-menu><a class=app-header-menu-item href=/>Home</a>
-
<a class=app-header-menu-item href=/daily/>Tags</a>
-
<a class=app-header-menu-item href=/about/>About</a></nav><p>以最放松的心态对待一切艰难</p><div class=app-header-social><a href=https://github.com/AirChen target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>My Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=renzhichen2012@163.com target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-mail"><title>My Email</title><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>iOS知识点杂记</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Apr 15, 2018</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>1 min read</div></div></header><div class=post-content><p>有很长一段时间没有更新自己的blog了，期间有春节假期、春节假期之前的忙、春节假期之后的懒，不得不承认自己是个不折不扣的懒癌晚期患者😂。其实年后，在工作上的任务也有所调整的，之前有很长一段时间是做iOS SDK的封装，及底层移植层的开发，年后不久组老大启动了我们团队自己的APP开发计划（我们团队是负责GIS地图引擎开发团队）。我也着手开始开发APP，期间组内招了一个iOS小伙伴，这个APP的iOS端也就由我们两人负责开发。</p><p>在开发过程中，我也在不断的梳理自己在iOS开发方面的技术点，并打算定期更新自己的博客，与读者一起分享在这APP开发过程中的一些坑。</p><h3 id=list>List</h3><h4 id=uilabel的自动换行><code>UILabel</code>的自动换行：</h4><pre tabindex=0><code>_addressLabel.numberOfLines = 0;
_addressLabel.lineBreakMode = NSLineBreakByWordWrapping;
</code></pre><p>计算字符串高度:</p><pre tabindex=0><code>UILabel 方法
- (CGSize)systemLayoutSizeFittingSize:(CGSize)targetSize;
UIView 方法
- (CGSize)sizeThatFits:(CGSize)size;
NSString 方法
- (CGRect)boundingRectWithSize:(CGSize)size options:(NSStringDrawingOptions)options attributes:(NSDictionary&lt;NSString *,id&gt; *)attributes context:(NSStringDrawingContext *)context;
</code></pre><h4 id=uitableview顶格去掉最上面一行的间隔><code>UITableView</code>顶格，去掉最上面一行的间隔</h4><pre tabindex=0><code>self.tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, CGFLOAT_MIN)];
</code></pre><h4 id=xcode9-使用rename的时候出现-rename-failed-情况时>XCode9 使用rename的时候，出现 &lsquo;rename failed&rsquo; 情况时</h4><p>1.关闭XCode</p><p>2.进入文件夹 ~/Library/Developer/Xcode/DerivedData/，删除文件夹下的所有文件</p><p>3.启动XCode</p><p>或者可以直接用终端输入：</p><pre tabindex=0><code>rm -rf ~/Library/Developer/Xcode/DerivedData/*
</code></pre><p>XCode重启即可</p><h4 id=uicollectionview数据不够时不能竖向滑动><code>UICollectionView</code>数据不够时，不能竖向滑动</h4><p><code>UICollectionView</code> 的属性bounces 默认的水平方向的滑动设置，其实还有alwaysBounceVertical 和alwaysBounceHorizontal属性，alwaysBounceHorizontal 和bounces 的效果一致，如果是竖向可以使用alwaysBounceVertical属性</p><p><code>UICollectionView</code>在一个frame 动画之后，调用setContentOffset 没有作用，不能改变里面内容的位置，这个时候，应该把setContentOffset 方法也放入一个动画中去调用。</p><h4 id=nstimer的循环圈><code>NSTimer</code>的循环圈</h4><p>调用<code>NSTimer</code> 的scheduledTimerWithTimeInterval: target: selector: userInfo: repeats: 来初始化一个NSTimer对象时，有可能会产生循环引用。可以使用scheduledTimerWithTimeInterval:repeats:block: 方法。</p><p>最后附上一个比较全的iOS 技能图谱</p><p><img src=images/ROADMAP.png alt=ROADMAP></p><h3 id=参考>参考</h3><p><a href=http://nextcocoa.com/uilabel-gen-ju-nei-rong-ji-suan-gao-du-de-san-chong-fang-fa/>计算字符串高度</a></p><p><a href=https://blog.sunnyxx.com/2015/04/15/ios-hide-grouped-tableview-header/>UITableView 顶格</a></p><p><a href=https://stackoverflow.com/questions/16069357/uicollectionview-does-not-scroll>UICollectionView does not scroll</a></p><p><a href=https://github.com/caoimghgin/TableViewCellWithAutoLayout/issues/13/tour/getting-started/>uitableview 在动画后自动滑动到顶端</a></p></div><div class=post-footer></div></article></main></body></html>